{"layout":"tutorial_hands_on","title":"Mass spectrometry: GC-MS data processing (with XCMS, RAMClustR, RIAssigner, and matchms)","zenodo_link":"https://zenodo.org/record/7890956","level":"Intermediate","questions":["What are the main steps of gas chromatography-mass spectrometry (GC-MS) data processing for metabolomic analysis?","What similarity metrics can be used to compare a pair of mass spectra and what are the differences between them?","Do you know any alternative tools that can be used in place of the individual steps of this workflow?"],"objectives":["To learn about the key steps in the preprocessing and analysis of untargeted GC-MS metabolomics data.","To explore what open-source alternative tools can be used in the analysis of GC-MS data, learn about their possible parametrisations.","To analyse authentic data samples and compare them with a data library of human metabolome, composed from a collection of mostly endogenous compounds."],"time_estimation":"2H","key_points":["The processing of untargeted GC-MS metabolomic data can be done using open-source tools.","This processing workflow is complementary to CAMERA and metaMS."],"requirements":[{"type":"internal","topic_name":"metabolomics","tutorials":["lcms-preprocessing"]}],"contributions":{"authorship":["xtrojak","hechth","maximskorik"],"editing":["hexylena"]},"js_requirements":{"mathjax":27731,"mermaid":false},"short_id":"T00344","url":"/topics/metabolomics/tutorials/gc_ms_with_xcms/tutorial.html","topic_name":"metabolomics","tutorial_name":"gc_ms_with_xcms","dir":"topics/metabolomics/tutorials/gc_ms_with_xcms","symlink":null,"id":"metabolomics/gc_ms_with_xcms","hands_on":true,"slides":false,"mod_date":"2023-11-03 14:30:27 +0000","pub_date":"2023-05-08 12:44:32 +0000","version":54,"workflows":[{"workflow":"main_workflow.ga","tests":true,"url":"https://training.galaxyproject.org/training-material/topics/metabolomics/tutorials/gc_ms_with_xcms/workflows/main_workflow.ga","url_html":"https://training.galaxyproject.org/training-material/topics/metabolomics/tutorials/gc_ms_with_xcms/workflows/main_workflow.html","path":"topics/metabolomics/tutorials/gc_ms_with_xcms/workflows/main_workflow.ga","wfid":"metabolomics-gc_ms_with_xcms","wfname":"main-workflow","trs_endpoint":"https://training.galaxyproject.org/training-material/api/ga4gh/trs/v2/tools/metabolomics-gc_ms_with_xcms/versions/main-workflow","license":"MIT","parent_id":"metabolomics/gc_ms_with_xcms","topic_id":"metabolomics","tutorial_id":"gc_ms_with_xcms","creators":[{"class":"Organization","email":"mailto:GalaxyToolsDevelopmentandDeployment@space.muni.cz","name":"RECETOX"}],"name":"GC MS using XCMS","title":"GC MS using XCMS","version":5,"description":"XCMS and RAMClustR based workflow for data processing and annotation using library matching via matchms.","tags":["GC-MS","Metabolomics","Expospomics"],"features":{"report":null,"subworkflows":false,"comments":false,"parameters":false},"workflowhub_id":"1119","history":[{"hash":"9ed3f9ed83554a79f083624b4070b85877845e17","unix":"1689330096","message":"Update test","short_hash":"9ed3f9ed8","num":5},{"hash":"727d0600a2d08ad3a489b57f6bf5c08807af1e47","unix":"1688998300","message":"Update workflow and tests","short_hash":"727d0600a","num":4},{"hash":"a726fb0c2af4a24843f6a50c6f522a629b43f6dd","unix":"1683106380","message":"Update RIAssginer tool version","short_hash":"a726fb0c2","num":3},{"hash":"41eb746c708ea13d1fb5aeac6ef6d7a4ccae1890","unix":"1683104559","message":"Consistency in parameter values in workflow and tutorial","short_hash":"41eb746c7","num":2},{"hash":"1503b9315e3fb1918a8554b3d2814fedda96e4c0","unix":"1677491681","message":"Initial commit adding GC-MS tutorial","short_hash":"1503b9315","num":1}],"test_results":null,"modified":"2024-07-14 00:05:54 +0000","mermaid":"flowchart TD\n  0[\"ℹ️ Input Dataset\\nReference compound list alkanes\"];\n  style 0 stroke:#2c3143,stroke-width:4px;\n  1[\"ℹ️ Input Dataset\\nReference spectra\"];\n  style 1 stroke:#2c3143,stroke-width:4px;\n  2[\"ℹ️ Input Dataset\\nsample_metadata.tsv\"];\n  style 2 stroke:#2c3143,stroke-width:4px;\n  3[\"ℹ️ Input Collection\\nInput Dataset Collection\"];\n  style 3 stroke:#2c3143,stroke-width:4px;\n  4[\"msconvert\"];\n  3 -->|output| 4;\n  5[\"MSnbase readMSData\"];\n  4 -->|output| 5;\n  6[\"xcms findChromPeaks xcmsSet\"];\n  5 -->|xsetRData| 6;\n  7[\"xcms findChromPeaks Merger\"];\n  6 -->|xsetRData| 7;\n  2 -->|output| 7;\n  8[\"xcms groupChromPeaks group\"];\n  7 -->|xsetRData| 8;\n  9[\"xcms adjustRtime retcor\"];\n  8 -->|xsetRData| 9;\n  10[\"xcms groupChromPeaks group\"];\n  9 -->|xsetRData| 10;\n  11[\"xcms fillChromPeaks fillPeaks\"];\n  10 -->|xsetRData| 11;\n  940c7549-1bae-4ddd-9e92-75fc7d2c8eef[\"Output\\nFeature (peak) intensities\"];\n  11 --> 940c7549-1bae-4ddd-9e92-75fc7d2c8eef;\n  style 940c7549-1bae-4ddd-9e92-75fc7d2c8eef stroke:#2c3143,stroke-width:4px;\n  9f910e82-e7a5-4201-b944-1845ba6aa2e9[\"Output\\nFeature (peak) metadata (mz, rt, ...)\"];\n  11 --> 9f910e82-e7a5-4201-b944-1845ba6aa2e9;\n  style 9f910e82-e7a5-4201-b944-1845ba6aa2e9 stroke:#2c3143,stroke-width:4px;\n  5bab8f28-4df1-4397-af04-168546bd0e52[\"Output\\nxcmsObj (XCMSnExp)\"];\n  11 --> 5bab8f28-4df1-4397-af04-168546bd0e52;\n  style 5bab8f28-4df1-4397-af04-168546bd0e52 stroke:#2c3143,stroke-width:4px;\n  12[\"RAMClustR\"];\n  11 -->|xsetRData| 12;\n  92fac5e6-1578-4e52-ac9d-2982e19a5b88[\"Output\\nDeconvoluted spectra\"];\n  12 --> 92fac5e6-1578-4e52-ac9d-2982e19a5b88;\n  style 92fac5e6-1578-4e52-ac9d-2982e19a5b88 stroke:#2c3143,stroke-width:4px;\n  f7657c17-6293-4fbb-b014-28009d495de7[\"Output\\nFeature (spectra) intensities\"];\n  12 --> f7657c17-6293-4fbb-b014-28009d495de7;\n  style f7657c17-6293-4fbb-b014-28009d495de7 stroke:#2c3143,stroke-width:4px;\n  13[\"RIAssigner\"];\n  12 -->|mass_spectra_merged| 13;\n  0 -->|output| 13;\n  7ec6ce02-5d83-48ab-ba0a-94976db297e5[\"Output\\nRetention indexed spectra\"];\n  13 --> 7ec6ce02-5d83-48ab-ba0a-94976db297e5;\n  style 7ec6ce02-5d83-48ab-ba0a-94976db297e5 stroke:#2c3143,stroke-width:4px;\n  14[\"matchms similarity\"];\n  13 -->|output| 14;\n  1 -->|output| 14;\n  024327f7-13b8-4ce9-8708-9f430d7ceedf[\"Output\\nCosineGreedy scores of input dataset(s)\"];\n  14 --> 024327f7-13b8-4ce9-8708-9f430d7ceedf;\n  style 024327f7-13b8-4ce9-8708-9f430d7ceedf stroke:#2c3143,stroke-width:4px;\n  15[\"matchms scores formatter\"];\n  14 -->|similarity_scores| 15;\n  8a767006-4b3c-41ba-bea5-18fd100ce930[\"Output\\nmatchms_scores\"];\n  15 --> 8a767006-4b3c-41ba-bea5-18fd100ce930;\n  style 8a767006-4b3c-41ba-bea5-18fd100ce930 stroke:#2c3143,stroke-width:4px;","graph_dot":"digraph main {\n  node [fontname=\"Atkinson Hyperlegible\", shape=box, color=white,style=filled,color=peachpuff,margin=\"0.2,0.2\"];\n  edge [fontname=\"Atkinson Hyperlegible\"];\n  0[color=lightblue,label=\"ℹ️ Input Dataset\\nReference compound list alkanes\"]\n  1[color=lightblue,label=\"ℹ️ Input Dataset\\nReference spectra\"]\n  2[color=lightblue,label=\"ℹ️ Input Dataset\\nsample_metadata.tsv\"]\n  3[color=lightblue,label=\"ℹ️ Input Collection\\nInput Dataset Collection\"]\n  4[label=\"msconvert\"]\n  3 -> 4 [label=\"output\"]\n  5[label=\"MSnbase readMSData\"]\n  4 -> 5 [label=\"output\"]\n  6[label=\"xcms findChromPeaks xcmsSet\"]\n  5 -> 6 [label=\"xsetRData\"]\n  7[label=\"xcms findChromPeaks Merger\"]\n  6 -> 7 [label=\"xsetRData\"]\n  2 -> 7 [label=\"output\"]\n  8[label=\"xcms groupChromPeaks group\"]\n  7 -> 8 [label=\"xsetRData\"]\n  9[label=\"xcms adjustRtime retcor\"]\n  8 -> 9 [label=\"xsetRData\"]\n  10[label=\"xcms groupChromPeaks group\"]\n  9 -> 10 [label=\"xsetRData\"]\n  11[label=\"xcms fillChromPeaks fillPeaks\"]\n  10 -> 11 [label=\"xsetRData\"]\n  k940c75491bae4ddd9e9275fc7d2c8eef[color=lightseagreen,label=\"Output\\nFeature (peak) intensities\"]\n  11 -> k940c75491bae4ddd9e9275fc7d2c8eef\n  k9f910e82e7a54201b9441845ba6aa2e9[color=lightseagreen,label=\"Output\\nFeature (peak) metadata (mz, rt, ...)\"]\n  11 -> k9f910e82e7a54201b9441845ba6aa2e9\n  k5bab8f284df14397af04168546bd0e52[color=lightseagreen,label=\"Output\\nxcmsObj (XCMSnExp)\"]\n  11 -> k5bab8f284df14397af04168546bd0e52\n  12[label=\"RAMClustR\"]\n  11 -> 12 [label=\"xsetRData\"]\n  k92fac5e615784e52ac9d2982e19a5b88[color=lightseagreen,label=\"Output\\nDeconvoluted spectra\"]\n  12 -> k92fac5e615784e52ac9d2982e19a5b88\n  kf7657c1762934fbbb01428009d495de7[color=lightseagreen,label=\"Output\\nFeature (spectra) intensities\"]\n  12 -> kf7657c1762934fbbb01428009d495de7\n  13[label=\"RIAssigner\"]\n  12 -> 13 [label=\"mass_spectra_merged\"]\n  0 -> 13 [label=\"output\"]\n  k7ec6ce025d8348abba0a94976db297e5[color=lightseagreen,label=\"Output\\nRetention indexed spectra\"]\n  13 -> k7ec6ce025d8348abba0a94976db297e5\n  14[label=\"matchms similarity\"]\n  13 -> 14 [label=\"output\"]\n  1 -> 14 [label=\"output\"]\n  k024327f713b84ce987089f430d7ceedf[color=lightseagreen,label=\"Output\\nCosineGreedy scores of input dataset(s)\"]\n  14 -> k024327f713b84ce987089f430d7ceedf\n  15[label=\"matchms scores formatter\"]\n  14 -> 15 [label=\"similarity_scores\"]\n  k8a7670064b3c41babea518fd100ce930[color=lightseagreen,label=\"Output\\nmatchms_scores\"]\n  15 -> k8a7670064b3c41babea518fd100ce930\n}","workflow_tools":["toolshed.g2.bx.psu.edu/repos/galaxyp/msconvert/msconvert/3.0.20287.2","toolshed.g2.bx.psu.edu/repos/lecorguille/msnbase_readmsdata/msnbase_readmsdata/2.16.1+galaxy0","toolshed.g2.bx.psu.edu/repos/lecorguille/xcms_xcmsset/abims_xcms_xcmsSet/3.12.0+galaxy0","toolshed.g2.bx.psu.edu/repos/lecorguille/xcms_merge/xcms_merge/3.12.0+galaxy0","toolshed.g2.bx.psu.edu/repos/lecorguille/xcms_group/abims_xcms_group/3.12.0+galaxy0","toolshed.g2.bx.psu.edu/repos/lecorguille/xcms_retcor/abims_xcms_retcor/3.12.0+galaxy0","toolshed.g2.bx.psu.edu/repos/lecorguille/xcms_fillpeaks/abims_xcms_fillPeaks/3.12.0+galaxy0","toolshed.g2.bx.psu.edu/repos/recetox/ramclustr/ramclustr/1.2.4+galaxy2","toolshed.g2.bx.psu.edu/repos/recetox/riassigner/riassigner/0.3.4+galaxy1","toolshed.g2.bx.psu.edu/repos/recetox/matchms_similarity/matchms_similarity/0.20.0+galaxy0","toolshed.g2.bx.psu.edu/repos/recetox/matchms_formatter/matchms_formatter/0.20.0+galaxy0"]}],"api":"https://training.galaxyproject.org/training-material/api/topics/metabolomics/tutorials/gc_ms_with_xcms/tutorial.json","tools":["toolshed.g2.bx.psu.edu/repos/galaxyp/msconvert/msconvert/3.0.20287.2","toolshed.g2.bx.psu.edu/repos/lecorguille/msnbase_readmsdata/msnbase_readmsdata/2.16.1+galaxy0","toolshed.g2.bx.psu.edu/repos/lecorguille/xcms_fillpeaks/abims_xcms_fillPeaks/3.12.0+galaxy0","toolshed.g2.bx.psu.edu/repos/lecorguille/xcms_group/abims_xcms_group/3.12.0+galaxy0","toolshed.g2.bx.psu.edu/repos/lecorguille/xcms_merge/xcms_merge/3.12.0+galaxy0","toolshed.g2.bx.psu.edu/repos/lecorguille/xcms_retcor/abims_xcms_retcor/3.12.0+galaxy0","toolshed.g2.bx.psu.edu/repos/lecorguille/xcms_xcmsset/abims_xcms_xcmsSet/3.12.0+galaxy0","toolshed.g2.bx.psu.edu/repos/recetox/matchms_filtering/matchms_filtering/0.17.0+galaxy0","toolshed.g2.bx.psu.edu/repos/recetox/matchms_formatter/matchms_formatter/0.20.0+galaxy0","toolshed.g2.bx.psu.edu/repos/recetox/matchms_similarity/matchms_similarity/0.20.0+galaxy0","toolshed.g2.bx.psu.edu/repos/recetox/ramclustr/ramclustr/1.2.4+galaxy2","toolshed.g2.bx.psu.edu/repos/recetox/ramclustr/ramclustr/1.3.0+galaxy0","toolshed.g2.bx.psu.edu/repos/recetox/ramclustr_define_experiment/ramclustr_define_experiment/1.0.2","toolshed.g2.bx.psu.edu/repos/recetox/riassigner/riassigner/0.3.4+galaxy1","toolshed.g2.bx.psu.edu/repos/recetox/waveica/waveica/0.2.0+galaxy2"],"supported_servers":{"exact":[{"url":"https://usegalaxy.eu","name":"UseGalaxy.eu","usegalaxy":true}],"inexact":[{"url":"https://usegalaxy.cz/","name":"UseGalaxy.cz","usegalaxy":false},{"url":"https://usegalaxy.fr/","name":"UseGalaxy.fr","usegalaxy":false}]},"topic_name_human":"Metabolomics","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[{"name":"msconvert","owner":"galaxyp","revisions":"6153e8ada1ee","tool_panel_section_label":"Convert Formats","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"msnbase_readmsdata","owner":"lecorguille","revisions":"11ab2081bd4a","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"xcms_fillpeaks","owner":"lecorguille","revisions":"26d77e9ceb49","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"xcms_group","owner":"lecorguille","revisions":"d45a786cbc40","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"xcms_merge","owner":"lecorguille","revisions":"5bd125a3f3b0","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"xcms_retcor","owner":"lecorguille","revisions":"aa252eec9229","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"xcms_xcmsset","owner":"lecorguille","revisions":"b02d1992a43a","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"matchms_filtering","owner":"recetox","revisions":"357df6c47d92","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"matchms_formatter","owner":"recetox","revisions":"1b09315a3f87","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"matchms_similarity","owner":"recetox","revisions":"e5010b19d64d","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"ramclustr","owner":"recetox","revisions":"2ec9253a647e","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"ramclustr","owner":"recetox","revisions":"050cfef6ba65","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"ramclustr_define_experiment","owner":"recetox","revisions":"25625114618e","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"riassigner","owner":"recetox","revisions":"c702620c22b1","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"waveica","owner":"recetox","revisions":"b77023c41c76","tool_panel_section_label":"Metabolomics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"}]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools:\n- name: msconvert\n  owner: galaxyp\n  revisions: 6153e8ada1ee\n  tool_panel_section_label: Convert Formats\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: msnbase_readmsdata\n  owner: lecorguille\n  revisions: 11ab2081bd4a\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: xcms_fillpeaks\n  owner: lecorguille\n  revisions: 26d77e9ceb49\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: xcms_group\n  owner: lecorguille\n  revisions: d45a786cbc40\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: xcms_merge\n  owner: lecorguille\n  revisions: 5bd125a3f3b0\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: xcms_retcor\n  owner: lecorguille\n  revisions: aa252eec9229\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: xcms_xcmsset\n  owner: lecorguille\n  revisions: b02d1992a43a\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: matchms_filtering\n  owner: recetox\n  revisions: 357df6c47d92\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: matchms_formatter\n  owner: recetox\n  revisions: 1b09315a3f87\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: matchms_similarity\n  owner: recetox\n  revisions: e5010b19d64d\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: ramclustr\n  owner: recetox\n  revisions: 2ec9253a647e\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: ramclustr\n  owner: recetox\n  revisions: 050cfef6ba65\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: ramclustr_define_experiment\n  owner: recetox\n  revisions: 25625114618e\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: riassigner\n  owner: recetox\n  revisions: c702620c22b1\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: waveica\n  owner: recetox\n  revisions: b77023c41c76\n  tool_panel_section_label: Metabolomics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n","tours":false,"video":false,"slides_recordings":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial","contributors":[{"name":"Matej Troják","joined":"2021-06","email":"trojak@mail.muni.cz","orcid":"0000-0003-0841-2707","id":"xtrojak","url":"https://training.galaxyproject.org/training-material/api/contributors/xtrojak.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/xtrojak/"},{"name":"Helge Hecht","joined":"2020-01","email":"helge.hecht@recetox.muni.cz","orcid":"0000-0001-6744-996X","id":"hechth","url":"https://training.galaxyproject.org/training-material/api/contributors/hechth.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/hechth/"},{"name":"Maxim Skoryk","email":"maximskoryk@gmail.com","orcid":"0000-0003-2056-8018","joined":"2023-03","id":"maximskorik","url":"https://training.galaxyproject.org/training-material/api/contributors/maximskorik.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/maximskorik/"},{"name":"Helena Rasche","orcid":"0000-0001-9760-8992","maintainer_contact":"gitter","matrix":"hexylena:matrix.org","joined":"2017-09","elixir_node":"nl","affiliations":["gallantries","by-covid","erasmusmc","elixir-europe","elixir-converge"],"former_affiliations":["deNBI","avans-atgm","uni-freiburg"],"contact_for_training":false,"location":{"country":"NL","lat":51.91,"lon":4.46},"id":"hexylena","url":"https://training.galaxyproject.org/training-material/api/contributors/hexylena.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/hexylena/"}]}