{"layout":"tutorial_hands_on","title":"Automating Galaxy workflows using the command line","tags":["workflows","variant-analysis","covid19"],"zenodo_link":"","questions":["How can I schedule and run tens or hundreds of Galaxy workflows easily?","How can I automate my analyses when large amounts of data are being produced daily?"],"objectives":["Learn to use the `planemo run` subcommand to run workflows from the command line.","Be able to write simple shell scripts for running multiple workflows concurrently or sequentially.","Learn how to use Pangolin to assign annotated variants to lineages."],"time_estimation":"2h","key_points":["Workflows can be executed not only through the web browser, but also via the command line.","Executing workflows programmatically allows automation of analyses."],"requirements":[{"title":"Familiarity with Galaxy and basic associated concepts, in particular workflows","type":"none"},{"title":"Basic knowledge of the command line","type":"none"}],"contributors":[{"name":"Simon Bray","joined":"2019-05","elixir_node":"de","former_affiliations":["uni-freiburg","elixir-europe"],"id":"simonbray","url":"https://training.galaxyproject.org/training-material/api/contributors/simonbray.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/simonbray/"},{"name":"Wolfgang Maier","orcid":"0000-0002-9464-6640","matrix":"wm75:matrix.org","joined":"2017-09","elixir_node":"de","fediverse":"https://scholar.social/@zerodivision","fediverse_flavor":"mastodon","affiliations":["by-covid","uni-freiburg","elixir-europe"],"id":"wm75","url":"https://training.galaxyproject.org/training-material/api/contributors/wm75.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/wm75/"}],"subtopic":"workflows","recordings":[{"captioners":["simonbray"],"date":"2021-02-15","galaxy_version":"21.01","length":"30M","youtube_id":"o39QjVnLG68","speakers":["simonbray"]}],"js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00162","url":"/topics/galaxy-interface/tutorials/workflow-automation/tutorial.html","topic_name":"galaxy-interface","tutorial_name":"workflow-automation","dir":"topics/galaxy-interface/tutorials/workflow-automation","symlink":null,"id":"galaxy-interface/workflow-automation","hands_on":true,"slides":false,"mod_date":"2024-06-14 09:56:50 +0000","pub_date":"2021-06-08 08:34:12 +0000","version":8,"workflows":[{"workflow":"main_workflow.ga","tests":false,"url":"https://training.galaxyproject.org/training-material/topics/galaxy-interface/tutorials/workflow-automation/workflows/main_workflow.ga","url_html":"https://training.galaxyproject.org/training-material/topics/galaxy-interface/tutorials/workflow-automation/workflows/main_workflow.html","path":"topics/galaxy-interface/tutorials/workflow-automation/workflows/main_workflow.ga","wfid":"galaxy-interface-workflow-automation","wfname":"main-workflow","trs_endpoint":"https://training.galaxyproject.org/training-material/api/ga4gh/trs/v2/tools/galaxy-interface-workflow-automation/versions/main-workflow","license":"MIT","parent_id":"galaxy-interface/workflow-automation","topic_id":"galaxy-interface","tutorial_id":"workflow-automation","creators":[{"class":"Person","identifier":"https://orcid.org/0000-0002-9464-6640","name":"Wolfgang Maier"}],"name":"vcf2lineage","title":"vcf2lineage","version":1,"description":"workflow-automation","tags":["variant-analysis","galaxy-interface"],"features":{"report":null,"subworkflows":false,"comments":false,"parameters":true},"workflowhub_id":"1293","history":[{"hash":"486585510e665c834a43668e2a769dd69654b9d6","unix":"1622197006","message":"add WF automation tutorial","short_hash":"486585510","num":1}],"test_results":null,"modified":"2024-07-16 10:51:02 +0000","mermaid":"flowchart TD\n  0[\"ℹ️ Input Collection\\nVariant calls\"];\n  style 0 stroke:#2c3143,stroke-width:4px;\n  1[\"ℹ️ Input Parameter\\nmin-AF for consensus variant\"];\n  style 1 fill:#ded,stroke:#393,stroke-width:4px;\n  2[\"ℹ️ Input Dataset\\nReference genome\"];\n  style 2 stroke:#2c3143,stroke-width:4px;\n  3[\"Compose text parameter value\"];\n  1 -->|output| 3;\n  4[\"SnpSift Filter\"];\n  3 -->|out1| 4;\n  0 -->|output| 4;\n  ee67c5ed-ff7c-404b-ad20-19259edbc671[\"Output\\nconsensus_variants\"];\n  4 --> ee67c5ed-ff7c-404b-ad20-19259edbc671;\n  style ee67c5ed-ff7c-404b-ad20-19259edbc671 stroke:#2c3143,stroke-width:4px;\n  5[\"bcftools consensus\"];\n  4 -->|output| 5;\n  2 -->|output| 5;\n  9028f80e-4112-40d8-9a49-f671677d304f[\"Output\\nconsensus\"];\n  5 --> 9028f80e-4112-40d8-9a49-f671677d304f;\n  style 9028f80e-4112-40d8-9a49-f671677d304f stroke:#2c3143,stroke-width:4px;\n  6[\"Collapse Collection\"];\n  5 -->|output_file| 6;\n  1dd7978e-b907-42d6-8fc4-f6fadeefcad1[\"Output\\nmultisample_consensus_fasta\"];\n  6 --> 1dd7978e-b907-42d6-8fc4-f6fadeefcad1;\n  style 1dd7978e-b907-42d6-8fc4-f6fadeefcad1 stroke:#2c3143,stroke-width:4px;\n  7[\"Pangolin\"];\n  6 -->|output| 7;\n  e02d2cfb-9842-4069-957c-6cf4ec197056[\"Output\\npangolin_results\"];\n  7 --> e02d2cfb-9842-4069-957c-6cf4ec197056;\n  style e02d2cfb-9842-4069-957c-6cf4ec197056 stroke:#2c3143,stroke-width:4px;","graph_dot":"digraph main {\n  node [fontname=\"Atkinson Hyperlegible\", shape=box, color=white,style=filled,color=peachpuff,margin=\"0.2,0.2\"];\n  edge [fontname=\"Atkinson Hyperlegible\"];\n  0[color=lightblue,label=\"ℹ️ Input Collection\\nVariant calls\"]\n  1[color=lightgreen,label=\"ℹ️ Input Parameter\\nmin-AF for consensus variant\"]\n  2[color=lightblue,label=\"ℹ️ Input Dataset\\nReference genome\"]\n  3[label=\"Compose text parameter value\"]\n  1 -> 3 [label=\"output\"]\n  4[label=\"SnpSift Filter\"]\n  3 -> 4 [label=\"out1\"]\n  0 -> 4 [label=\"output\"]\n  kee67c5edff7c404bad2019259edbc671[color=lightseagreen,label=\"Output\\nconsensus_variants\"]\n  4 -> kee67c5edff7c404bad2019259edbc671\n  5[label=\"bcftools consensus\"]\n  4 -> 5 [label=\"output\"]\n  2 -> 5 [label=\"output\"]\n  k9028f80e411240d89a49f671677d304f[color=lightseagreen,label=\"Output\\nconsensus\"]\n  5 -> k9028f80e411240d89a49f671677d304f\n  6[label=\"Collapse Collection\"]\n  5 -> 6 [label=\"output_file\"]\n  k1dd7978eb90742d68fc4f6fadeefcad1[color=lightseagreen,label=\"Output\\nmultisample_consensus_fasta\"]\n  6 -> k1dd7978eb90742d68fc4f6fadeefcad1\n  7[label=\"Pangolin\"]\n  6 -> 7 [label=\"output\"]\n  ke02d2cfb98424069957c6cf4ec197056[color=lightseagreen,label=\"Output\\npangolin_results\"]\n  7 -> ke02d2cfb98424069957c6cf4ec197056\n}","workflow_tools":["toolshed.g2.bx.psu.edu/repos/iuc/compose_text_param/compose_text_param/0.1.1","toolshed.g2.bx.psu.edu/repos/iuc/snpsift/snpSift_filter/4.3+t.galaxy1","toolshed.g2.bx.psu.edu/repos/iuc/bcftools_consensus/bcftools_consensus/1.10","toolshed.g2.bx.psu.edu/repos/nml/collapse_collections/collapse_dataset/4.2","toolshed.g2.bx.psu.edu/repos/iuc/pangolin/pangolin/2.3.8"]}],"api":"https://training.galaxyproject.org/training-material/api/topics/galaxy-interface/tutorials/workflow-automation/tutorial.json","tools":["toolshed.g2.bx.psu.edu/repos/iuc/bcftools_consensus/bcftools_consensus/1.10","toolshed.g2.bx.psu.edu/repos/iuc/compose_text_param/compose_text_param/0.1.1","toolshed.g2.bx.psu.edu/repos/iuc/pangolin/pangolin/2.3.8","toolshed.g2.bx.psu.edu/repos/iuc/snpsift/snpSift_filter/4.3+t.galaxy1","toolshed.g2.bx.psu.edu/repos/nml/collapse_collections/collapse_dataset/4.2"],"supported_servers":{"exact":[{"url":"https://usegalaxy.eu","name":"UseGalaxy.eu","usegalaxy":true},{"url":"https://usegalaxy.org","name":"UseGalaxy.org (Main)","usegalaxy":true},{"url":"https://usegalaxy.org.au","name":"UseGalaxy.org.au","usegalaxy":true}],"inexact":[{"url":"https://mississippi.sorbonne-universite.fr","name":"MISSISSIPPI","usegalaxy":false},{"url":"https://usegalaxy.fr/","name":"UseGalaxy.fr","usegalaxy":false}]},"topic_name_human":"Using Galaxy and Managing your Data","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[{"name":"bcftools_consensus","owner":"iuc","revisions":"e522022137f6","tool_panel_section_label":"Variant Calling","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"compose_text_param","owner":"iuc","revisions":"e188c9826e0f","tool_panel_section_label":"Expression Tools","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"pangolin","owner":"iuc","revisions":"b6abccb1f25b","tool_panel_section_label":"Phylogenetics","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"snpsift","owner":"iuc","revisions":"5fab4f81391d","tool_panel_section_label":"Variant Calling","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"collapse_collections","owner":"nml","revisions":"830961c48e42","tool_panel_section_label":"Collection Operations","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"}]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools:\n- name: bcftools_consensus\n  owner: iuc\n  revisions: e522022137f6\n  tool_panel_section_label: Variant Calling\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: compose_text_param\n  owner: iuc\n  revisions: e188c9826e0f\n  tool_panel_section_label: Expression Tools\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: pangolin\n  owner: iuc\n  revisions: b6abccb1f25b\n  tool_panel_section_label: Phylogenetics\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: snpsift\n  owner: iuc\n  revisions: 5fab4f81391d\n  tool_panel_section_label: Variant Calling\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: collapse_collections\n  owner: nml\n  revisions: 830961c48e42\n  tool_panel_section_label: Collection Operations\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n","tours":false,"video":false,"slides_recordings":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial"}