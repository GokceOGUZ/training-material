{"layout":"tutorial_hands_on","subtopic":"datamanipulation","priority":5,"title":"Bulk matrix to ESet | Creating the bulk RNA-seq dataset for deconvolution","zenodo_link":"https://zenodo.org/record/7319173","questions":["Where can I find good quality RNA-seq datasets?","How can I reformat and manipulate these downloads to create the right format for MuSiC?"],"objectives":["You will retrieve raw data from the EMBL-EBI Expression Atlas.","You will manipulate the metadata and matrix files.","You will combine the metadata and matrix files into an ESet object for MuSiC deconvolution.","You will create multiple ESet objects - both combined and separated out by disease phenotype for your bulk dataset."],"time_estimation":"1H","key_points":["The EMBL-EBI Expression Atlas contains high quality datasets.","Metadata manipulation is key for generating the correctly formatted resource."],"contributions":{"authorship":["nomadscientist","mtekman"],"testing":["MarisaJL"]},"tags":["transcriptomics","data management"],"requirements":[{"type":"internal","topic_name":"single-cell","tutorials":["bulk-music","bulk-music-2-preparescref"]}],"follow_up_training":[{"type":"internal","topic_name":"single-cell","tutorials":["bulk-music-4-compare"]}],"js_requirements":{"mathjax":null,"mermaid":false},"short_id":"T00242","url":"/topics/single-cell/tutorials/bulk-music-3-preparebulk/tutorial.html","topic_name":"single-cell","tutorial_name":"bulk-music-3-preparebulk","dir":"topics/single-cell/tutorials/bulk-music-3-preparebulk","symlink":null,"id":"single-cell/bulk-music-3-preparebulk","hands_on":true,"slides":false,"mod_date":"2023-12-14 17:19:21 +0000","pub_date":"2023-01-20 10:58:39 +0000","version":27,"workflows":[{"workflow":"bulk_ESet.ga","tests":false,"url":"https://training.galaxyproject.org/training-material/topics/single-cell/tutorials/bulk-music-3-preparebulk/workflows/bulk_ESet.ga","url_html":"https://training.galaxyproject.org/training-material/topics/single-cell/tutorials/bulk-music-3-preparebulk/workflows/bulk_ESet.html","path":"topics/single-cell/tutorials/bulk-music-3-preparebulk/workflows/bulk_ESet.ga","wfid":"single-cell-bulk-music-3-preparebulk","wfname":"bulk-eset","trs_endpoint":"https://training.galaxyproject.org/training-material/api/ga4gh/trs/v2/tools/single-cell-bulk-music-3-preparebulk/versions/bulk-eset","license":null,"parent_id":"single-cell/bulk-music-3-preparebulk","topic_id":"single-cell","tutorial_id":"bulk-music-3-preparebulk","creators":[{"class":"Person","identifier":"0000-0002-8170-8806","name":"Wendi Bacon"},{"class":"Person","identifier":"0000-0002-4181-2676","name":"Mehmet Tekman"}],"name":"MuSiC-Deconvolution: Data generation | bulk | ESet","title":"MuSiC-Deconvolution: Data generation | bulk | ESet","version":1,"description":"This workflow creates bulk ESet objects from uploaded raw matrix &amp; metadata files","tags":["name:singlecell","name:transcriptomics","name:training"],"features":{"report":null,"subworkflows":true,"comments":false,"parameters":false},"workflowhub_id":"1230","history":[{"hash":"9a561b3752745eab20cececd5346ee0a7449da28","unix":"1669581042","message":"update workflows","short_hash":"9a561b375","num":1}],"test_results":null,"modified":"2024-07-16 00:05:49 +0000","mermaid":"flowchart TD\n  0[\"Expression matrix\"];\n  1[\"Metadata\"];\n  2[\"annotateMyIDs\"];\n  0 -->|output_tabular| 2;\n  8415bac0-6beb-467d-a0fa-fb6465987ff7[\"Output\\nannotateMyIDs on input dataset(s): Annotated IDs\"];\n  2 --> 8415bac0-6beb-467d-a0fa-fb6465987ff7;\n  style 8415bac0-6beb-467d-a0fa-fb6465987ff7 stroke:#2c3143,stroke-width:4px;\n  3[\"Regex Find And Replace\"];\n  1 -->|output| 3;\n  4[\"🛠️ Subworkflow\\nCopy of Convert from Ensembl to GeneSymbol, summing duplicate genes\"];\n  style 4 fill:#edd,stroke:#900,stroke-width:4px;\n  2 -->|out_tab| 4;\n  0 -->|output_tabular| 4;\n  5[\"Construct Expression Set Object\"];\n  4 -->|Gene Symbol Count Matrix| 5;\n  3 -->|out_file1| 5;\n  6[\"Manipulate Expression Set Object\"];\n  5 -->|out_rds| 6;\n  88196d0b-7254-4794-b08a-5409f19c8323[\"Output\\nManipulate Expression Set Object on input dataset(s): ExpressionSet Object\"];\n  6 --> 88196d0b-7254-4794-b08a-5409f19c8323;\n  style 88196d0b-7254-4794-b08a-5409f19c8323 stroke:#2c3143,stroke-width:4px;\n  7[\"Manipulate Expression Set Object\"];\n  5 -->|out_rds| 7;","graph_dot":"digraph main {\n  node [fontname=\"Atkinson Hyperlegible\", shape=box, color=white,style=filled,color=peachpuff,margin=\"0.2,0.2\"];\n  edge [fontname=\"Atkinson Hyperlegible\"];\n  0[label=\"Expression matrix\"]\n  1[label=\"Metadata\"]\n  2[label=\"annotateMyIDs\"]\n  0 -> 2 [label=\"output_tabular\"]\n  k8415bac06beb467da0fafb6465987ff7[color=lightseagreen,label=\"Output\\nannotateMyIDs on input dataset(s): Annotated IDs\"]\n  2 -> k8415bac06beb467da0fafb6465987ff7\n  3[label=\"Regex Find And Replace\"]\n  1 -> 3 [label=\"output\"]\n  4[color=lightcoral,label=\"🛠️ Subworkflow\\nCopy of Convert from Ensembl to GeneSymbol, summing duplicate genes\"]\n  2 -> 4 [label=\"out_tab\"]\n  0 -> 4 [label=\"output_tabular\"]\n  5[label=\"Construct Expression Set Object\"]\n  4 -> 5 [label=\"Gene Symbol Count Matrix\"]\n  3 -> 5 [label=\"out_file1\"]\n  6[label=\"Manipulate Expression Set Object\"]\n  5 -> 6 [label=\"out_rds\"]\n  k88196d0b72544794b08a5409f19c8323[color=lightseagreen,label=\"Output\\nManipulate Expression Set Object on input dataset(s): ExpressionSet Object\"]\n  6 -> k88196d0b72544794b08a5409f19c8323\n  7[label=\"Manipulate Expression Set Object\"]\n  5 -> 7 [label=\"out_rds\"]\n}","workflow_tools":["toolshed.g2.bx.psu.edu/repos/iuc/column_remove_by_header/column_remove_by_header/1.0","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0","toolshed.g2.bx.psu.edu/repos/iuc/annotatemyids/annotatemyids/3.14.0+galaxy1","toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regex1/1.0.2","toolshed.g2.bx.psu.edu/repos/bgruening/music_construct_eset/music_construct_eset/0.1.1+galaxy4","toolshed.g2.bx.psu.edu/repos/bgruening/music_manipulate_eset/music_manipulate_eset/0.1.1+galaxy4",["toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.2","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_easyjoin_tool/1.1.2","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.2","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.2","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.2","sort1","toolshed.g2.bx.psu.edu/repos/iuc/table_compute/table_compute/1.2.4+galaxy0","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sed_tool/1.1.1"]]}],"api":"https://training.galaxyproject.org/training-material/api/topics/single-cell/tutorials/bulk-music-3-preparebulk/tutorial.json","tools":["sort1","toolshed.g2.bx.psu.edu/repos/bgruening/music_construct_eset/music_construct_eset/0.1.1+galaxy4","toolshed.g2.bx.psu.edu/repos/bgruening/music_manipulate_eset/music_manipulate_eset/0.1.1+galaxy4","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.2","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cut_tool/1.1.0","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_easyjoin_tool/1.1.2","toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_sed_tool/1.1.1","toolshed.g2.bx.psu.edu/repos/galaxyp/regex_find_replace/regex1/1.0.2","toolshed.g2.bx.psu.edu/repos/iuc/annotatemyids/annotatemyids/3.14.0+galaxy1","toolshed.g2.bx.psu.edu/repos/iuc/column_remove_by_header/column_remove_by_header/1.0","toolshed.g2.bx.psu.edu/repos/iuc/table_compute/table_compute/1.2.4+galaxy0"],"supported_servers":{"exact":[{"url":"https://usegalaxy.org.au","name":"UseGalaxy.org.au","usegalaxy":true}],"inexact":[{"url":"https://usegalaxy.cz/","name":"UseGalaxy.cz","usegalaxy":false}]},"topic_name_human":"Single Cell","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[{"name":"music_construct_eset","owner":"bgruening","revisions":"282819d09a4f","tool_panel_section_label":"Single-cell","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"music_manipulate_eset","owner":"bgruening","revisions":"22232092be53","tool_panel_section_label":"Single-cell","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"text_processing","owner":"bgruening","revisions":"d698c222f354","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"text_processing","owner":"bgruening","revisions":"d698c222f354","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"text_processing","owner":"bgruening","revisions":"d698c222f354","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"text_processing","owner":"bgruening","revisions":"d698c222f354","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"regex_find_replace","owner":"galaxyp","revisions":"399da6b5ec21","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"annotatemyids","owner":"iuc","revisions":"fe3ca740a485","tool_panel_section_label":"Annotation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"column_remove_by_header","owner":"iuc","revisions":"2040e4c2750a","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"table_compute","owner":"iuc","revisions":"3bf5661c0280","tool_panel_section_label":"Text Manipulation","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"}]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools:\n- name: music_construct_eset\n  owner: bgruening\n  revisions: 282819d09a4f\n  tool_panel_section_label: Single-cell\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: music_manipulate_eset\n  owner: bgruening\n  revisions: 22232092be53\n  tool_panel_section_label: Single-cell\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: text_processing\n  owner: bgruening\n  revisions: d698c222f354\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: text_processing\n  owner: bgruening\n  revisions: d698c222f354\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: text_processing\n  owner: bgruening\n  revisions: d698c222f354\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: text_processing\n  owner: bgruening\n  revisions: d698c222f354\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: regex_find_replace\n  owner: galaxyp\n  revisions: 399da6b5ec21\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: annotatemyids\n  owner: iuc\n  revisions: fe3ca740a485\n  tool_panel_section_label: Annotation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: column_remove_by_header\n  owner: iuc\n  revisions: 2040e4c2750a\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: table_compute\n  owner: iuc\n  revisions: 3bf5661c0280\n  tool_panel_section_label: Text Manipulation\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n","tours":false,"video":false,"slides_recordings":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial","contributors":[{"name":"Wendi Bacon","email":"wendi.bacon@open.ac.uk","twitter":"WendiBacon1","matrix":"nomadscientist:matrix.org","joined":"2020-03","elixir_node":"uk","orcid":"0000-0002-8170-8806","bio":"Senior Lecturer at The Open University","fediverse":"https://mstdn.science/@wendibacon1","fediverse_flavor":"mastodon","affiliations":["elixir-europe"],"id":"nomadscientist","url":"https://training.galaxyproject.org/training-material/api/contributors/nomadscientist.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/nomadscientist/"},{"name":"Mehmet Tekman","email":"mtekman89@gmail.com","joined":"2018-11","elixir_node":"de","affiliations":["uni-freiburg"],"former_affiliations":["elixir-europe"],"id":"mtekman","url":"https://training.galaxyproject.org/training-material/api/contributors/mtekman.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/mtekman/"},{"name":"Marisa Loach","orcid":"0000-0001-6979-6930","twitter":"Marisa_Loach","email":"marisa.loach@open.ac.uk","joined":"2022-10","id":"MarisaJL","url":"https://training.galaxyproject.org/training-material/api/contributors/MarisaJL.json","page":"https://training.galaxyproject.org/training-material/hall-of-fame/MarisaJL/"}]}