{"layout":"tutorial_slides","title":"Nucleoli Segmentation <br> & <br> Feature Extraction <br> using CellProfiler","questions":["How do I run an image analysis pipeline on public data using CellProfiler?","How do I analyse the DNA channel of fluorescence siRNA screens?","How do I download public image data into my history?","How do I segment and label cell nuclei?","How do I segment nucleoli (as the absence of DNA)?","How do I combine nuclei and nucleoli into one segmentation mask?","How do I extract the background of an image?","How do I relate the nucleoli to their parent nucleus?","How do I measure the image and object features?","How do I measure the image quality?"],"objectives":["How to download images from a public image repository.","How to segment cell nuclei using CellProfiler in Galaxy.","How to segment cell nucleoli using CellProfiler in Galaxy.","How to extract features for images, nuclei and nucleoli."],"time_estimation":"4H","key_points":["Galaxy workflows can download images from the IDR, selecting specific channels, time points, z-stack positions and crop the image in different ways.","CellProfiler in Galaxy can segment and extract features of any object of interest.","The features and masks can be exported for further analysis."],"contributors":["beatrizserrano"],"zenodo_link":"","js_requirements":{"mathjax":null,"mermaid":false},"short_id":"S00071","url":"/topics/imaging/tutorials/tutorial-CP/slides.html","topic_name":"imaging","tutorial_name":"tutorial-CP","dir":"topics/imaging/tutorials/tutorial-CP","symlink":null,"id":"imaging/tutorial-CP","hands_on":true,"slides":true,"mod_date":"2023-11-03 14:30:27 +0000","pub_date":"2020-07-01 17:08:12 +0000","version":20,"workflows":[{"workflow":"main_workflow.ga","tests":false,"url":"https://training.galaxyproject.org/training-material/topics/imaging/tutorials/tutorial-CP/workflows/main_workflow.ga","url_html":"https://training.galaxyproject.org/training-material/topics/imaging/tutorials/tutorial-CP/workflows/main_workflow.html","path":"topics/imaging/tutorials/tutorial-CP/workflows/main_workflow.ga","wfid":"imaging-tutorial-CP","wfname":"main-workflow","trs_endpoint":"https://training.galaxyproject.org/training-material/api/ga4gh/trs/v2/tools/imaging-tutorial-CP/versions/main-workflow","license":null,"parent_id":"imaging/tutorial-CP","topic_id":"imaging","tutorial_id":"tutorial-CP","creators":[],"name":"CP_pipeline_IDR_training","title":"CP_pipeline_IDR_training","version":7,"description":"Nucleoli segmentation and feature extraction using CellProfiler","tags":["CellProfiler","imaging"],"features":{"report":null,"subworkflows":false,"comments":false,"parameters":false},"workflowhub_id":"1262","history":[{"hash":"bd719212c3b71090065923e9941d9f5efbb4e3e3","unix":"1604492160","message":"Update main_workflow.ga","short_hash":"bd719212c","num":7},{"hash":"e060051254138ba425caa5775fc10bc5ac93c33e","unix":"1604488703","message":"add missing annotation field","short_hash":"e06005125","num":6},{"hash":"ceef3fe076a86ac8ecc50eba9b77ff192385ab60","unix":"1604444072","message":"add tag imaging","short_hash":"ceef3fe07","num":5},{"hash":"28a7fb28b785ae9b4804700a389d2334dc0eeb63","unix":"1604443613","message":"Update main_workflow.ga","short_hash":"28a7fb28b","num":4},{"hash":"a3a14fb9052dfae1f59ddec213fe4850779b2f1e","unix":"1593000970","message":"add annotation and tags to the wf","short_hash":"a3a14fb90","num":3},{"hash":"8fdf6cf2d432e514ebb2fd0a79ede703f2f36efb","unix":"1592999030","message":"format wf","short_hash":"8fdf6cf2d","num":2},{"hash":"82051aef73313659e45e3e3fa243c84ca022dce4","unix":"1592558689","message":"training_init","short_hash":"82051aef7","num":1}],"test_results":null,"modified":"2024-07-15 10:03:23 +0000","mermaid":"flowchart TD\n  0[\"Starting modules\"];\n  1[\"Download images\"];\n  2[\"Segment complete nuclei\"];\n  0 -->|output_pipeline| 2;\n  3[\"Segmentation mask complete nuclei\"];\n  2 -->|output_pipeline| 3;\n  4[\"Label nuclei\"];\n  3 -->|output_pipeline| 4;\n  5[\"Save labelled nuclei\"];\n  4 -->|output_pipeline| 5;\n  6[\"Detect dark holes in nuclei\"];\n  5 -->|output_pipeline| 6;\n  7[\"Segment nucleoli that fall inside nuclei\"];\n  6 -->|output_pipeline| 7;\n  8[\"Segment nucleoli\"];\n  7 -->|output_pipeline| 8;\n  9[\"Convert the segmented nucleoli into an image\"];\n  8 -->|output_pipeline| 9;\n  10[\"Combine masks nuclei + nucleoli\"];\n  9 -->|output_pipeline| 10;\n  11[\"Save combined segmentation masks\"];\n  10 -->|output_pipeline| 11;\n  12[\"Segment all nuclei\"];\n  11 -->|output_pipeline| 12;\n  13[\"Segmentation mask nucleoli including cells touching borders\"];\n  12 -->|output_pipeline| 13;\n  14[\"Extract background\"];\n  13 -->|output_pipeline| 14;\n  15[\"Measure the image granularity\"];\n  14 -->|output_pipeline| 15;\n  16[\"Measure the nuclei texture\"];\n  15 -->|output_pipeline| 16;\n  17[\"Measure the nuclei intensity\"];\n  16 -->|output_pipeline| 17;\n  18[\"Measure size and shape of nuclei and nucleoli\"];\n  17 -->|output_pipeline| 18;\n  19[\"Relate nucleoli with their parent nuclei\"];\n  18 -->|output_pipeline| 19;\n  20[\"Measure the image quality\"];\n  19 -->|output_pipeline| 20;\n  21[\"Measure the area occupied by nuclei and nucleoli\"];\n  20 -->|output_pipeline| 21;\n  22[\"Measure the image intensity\"];\n  21 -->|output_pipeline| 22;\n  23[\"Export measurements\"];\n  22 -->|output_pipeline| 23;\n  24[\"Run CellProfiler\"];\n  1 -->|output_tar| 24;\n  23 -->|output_pipeline| 24;","graph_dot":"digraph main {\n  node [fontname=\"Atkinson Hyperlegible\", shape=box, color=white,style=filled,color=peachpuff,margin=\"0.2,0.2\"];\n  edge [fontname=\"Atkinson Hyperlegible\"];\n  0[label=\"Starting modules\"]\n  1[label=\"Download images\"]\n  2[label=\"Segment complete nuclei\"]\n  0 -> 2 [label=\"output_pipeline\"]\n  3[label=\"Segmentation mask complete nuclei\"]\n  2 -> 3 [label=\"output_pipeline\"]\n  4[label=\"Label nuclei\"]\n  3 -> 4 [label=\"output_pipeline\"]\n  5[label=\"Save labelled nuclei\"]\n  4 -> 5 [label=\"output_pipeline\"]\n  6[label=\"Detect dark holes in nuclei\"]\n  5 -> 6 [label=\"output_pipeline\"]\n  7[label=\"Segment nucleoli that fall inside nuclei\"]\n  6 -> 7 [label=\"output_pipeline\"]\n  8[label=\"Segment nucleoli\"]\n  7 -> 8 [label=\"output_pipeline\"]\n  9[label=\"Convert the segmented nucleoli into an image\"]\n  8 -> 9 [label=\"output_pipeline\"]\n  10[label=\"Combine masks nuclei + nucleoli\"]\n  9 -> 10 [label=\"output_pipeline\"]\n  11[label=\"Save combined segmentation masks\"]\n  10 -> 11 [label=\"output_pipeline\"]\n  12[label=\"Segment all nuclei\"]\n  11 -> 12 [label=\"output_pipeline\"]\n  13[label=\"Segmentation mask nucleoli including cells touching borders\"]\n  12 -> 13 [label=\"output_pipeline\"]\n  14[label=\"Extract background\"]\n  13 -> 14 [label=\"output_pipeline\"]\n  15[label=\"Measure the image granularity\"]\n  14 -> 15 [label=\"output_pipeline\"]\n  16[label=\"Measure the nuclei texture\"]\n  15 -> 16 [label=\"output_pipeline\"]\n  17[label=\"Measure the nuclei intensity\"]\n  16 -> 17 [label=\"output_pipeline\"]\n  18[label=\"Measure size and shape of nuclei and nucleoli\"]\n  17 -> 18 [label=\"output_pipeline\"]\n  19[label=\"Relate nucleoli with their parent nuclei\"]\n  18 -> 19 [label=\"output_pipeline\"]\n  20[label=\"Measure the image quality\"]\n  19 -> 20 [label=\"output_pipeline\"]\n  21[label=\"Measure the area occupied by nuclei and nucleoli\"]\n  20 -> 21 [label=\"output_pipeline\"]\n  22[label=\"Measure the image intensity\"]\n  21 -> 22 [label=\"output_pipeline\"]\n  23[label=\"Export measurements\"]\n  22 -> 23 [label=\"output_pipeline\"]\n  24[label=\"Run CellProfiler\"]\n  1 -> 24 [label=\"output_tar\"]\n  23 -> 24 [label=\"output_pipeline\"]\n}","workflow_tools":["toolshed.g2.bx.psu.edu/repos/bgruening/cp_common/cp_common/3.1.9","toolshed.g2.bx.psu.edu/repos/iuc/idr_download_by_ids/idr_download_by_ids/0.41","toolshed.g2.bx.psu.edu/repos/bgruening/cp_identify_primary_objects/cp_identify_primary_objects/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_convert_objects_to_image/cp_convert_objects_to_image/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_display_data_on_image/cp_display_data_on_image/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_save_images/cp_save_images/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_enhance_or_suppress_features/cp_enhance_or_suppress_features/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_mask_image/cp_mask_image/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_gray_to_color/cp_gray_to_color/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_image_math/cp_image_math/0.1.0","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_granularity/cp_measure_granularity/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_texture/cp_measure_texture/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_object_intensity/cp_measure_object_intensity/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_object_size_shape/cp_measure_object_size_shape/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_relate_objects/cp_relate_objects/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_image_quality/cp_measure_image_quality/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_image_area_occupied/cp_measure_image_area_occupied/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_image_intensity/cp_measure_image_intensity/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_export_to_spreadsheet/cp_export_to_spreadsheet/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_cellprofiler/cp_cellprofiler/3.1.9"]}],"api":"https://training.galaxyproject.org/training-material/api/topics/imaging/tutorials/tutorial-CP/tutorial.json","tools":["toolshed.g2.bx.psu.edu/repos/bgruening/cp_cellprofiler/cp_cellprofiler/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_common/cp_common/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_convert_objects_to_image/cp_convert_objects_to_image/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_display_data_on_image/cp_display_data_on_image/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_enhance_or_suppress_features/cp_enhance_or_suppress_features/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_export_to_spreadsheet/cp_export_to_spreadsheet/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_gray_to_color/cp_gray_to_color/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_identify_primary_objects/cp_identify_primary_objects/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_image_math/cp_image_math/0.1.0","toolshed.g2.bx.psu.edu/repos/bgruening/cp_mask_image/cp_mask_image/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_granularity/cp_measure_granularity/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_image_area_occupied/cp_measure_image_area_occupied/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_image_intensity/cp_measure_image_intensity/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_image_quality/cp_measure_image_quality/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_object_intensity/cp_measure_object_intensity/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_object_size_shape/cp_measure_object_size_shape/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_measure_texture/cp_measure_texture/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_relate_objects/cp_relate_objects/3.1.9","toolshed.g2.bx.psu.edu/repos/bgruening/cp_save_images/cp_save_images/3.1.9","toolshed.g2.bx.psu.edu/repos/iuc/idr_download_by_ids/idr_download_by_ids/0.41"],"supported_servers":{"exact":[{"url":"https://usegalaxy.eu","name":"UseGalaxy.eu","usegalaxy":true}],"inexact":[{"url":"https://usegalaxy.cz/","name":"UseGalaxy.cz","usegalaxy":false},{"url":"https://usegalaxy.fr/","name":"UseGalaxy.fr","usegalaxy":false},{"url":"https://usegalaxy.no/","name":"UseGalaxy.no","usegalaxy":false}]},"topic_name_human":"Imaging","admin_install":{"install_tool_dependencies":true,"install_repository_dependencies":true,"install_resolver_dependencies":true,"tools":[{"name":"cp_cellprofiler","owner":"bgruening","revisions":"e917a2424690","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_common","owner":"bgruening","revisions":"e7273daa5ae2","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_convert_objects_to_image","owner":"bgruening","revisions":"df3ad3ba5c6f","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_display_data_on_image","owner":"bgruening","revisions":"2484086dee41","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_enhance_or_suppress_features","owner":"bgruening","revisions":"f2ed92b011a9","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_export_to_spreadsheet","owner":"bgruening","revisions":"f8fa0f6718a3","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_gray_to_color","owner":"bgruening","revisions":"31d195bedf6d","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_identify_primary_objects","owner":"bgruening","revisions":"993faa34333b","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_image_math","owner":"bgruening","revisions":"c09dcda1143f","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_mask_image","owner":"bgruening","revisions":"3a05117669cf","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_measure_granularity","owner":"bgruening","revisions":"a1a961c46d4b","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_measure_image_area_occupied","owner":"bgruening","revisions":"20dbb1f7ec7b","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_measure_image_intensity","owner":"bgruening","revisions":"5499dc6f8ac1","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_measure_image_quality","owner":"bgruening","revisions":"e972e07c7845","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_measure_object_intensity","owner":"bgruening","revisions":"980aed9e8fd5","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_measure_object_size_shape","owner":"bgruening","revisions":"79e10d12d90a","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_measure_texture","owner":"bgruening","revisions":"035a58c7f54a","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_relate_objects","owner":"bgruening","revisions":"8083a87d2fdf","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"cp_save_images","owner":"bgruening","revisions":"4ecf93628f97","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"},{"name":"idr_download_by_ids","owner":"iuc","revisions":"e08b1dc0480c","tool_panel_section_label":"Imaging","tool_shed_url":"https://toolshed.g2.bx.psu.edu/"}]},"admin_install_yaml":"---\ninstall_tool_dependencies: true\ninstall_repository_dependencies: true\ninstall_resolver_dependencies: true\ntools:\n- name: cp_cellprofiler\n  owner: bgruening\n  revisions: e917a2424690\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_common\n  owner: bgruening\n  revisions: e7273daa5ae2\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_convert_objects_to_image\n  owner: bgruening\n  revisions: df3ad3ba5c6f\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_display_data_on_image\n  owner: bgruening\n  revisions: 2484086dee41\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_enhance_or_suppress_features\n  owner: bgruening\n  revisions: f2ed92b011a9\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_export_to_spreadsheet\n  owner: bgruening\n  revisions: f8fa0f6718a3\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_gray_to_color\n  owner: bgruening\n  revisions: 31d195bedf6d\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_identify_primary_objects\n  owner: bgruening\n  revisions: 993faa34333b\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_image_math\n  owner: bgruening\n  revisions: c09dcda1143f\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_mask_image\n  owner: bgruening\n  revisions: 3a05117669cf\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_measure_granularity\n  owner: bgruening\n  revisions: a1a961c46d4b\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_measure_image_area_occupied\n  owner: bgruening\n  revisions: 20dbb1f7ec7b\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_measure_image_intensity\n  owner: bgruening\n  revisions: 5499dc6f8ac1\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_measure_image_quality\n  owner: bgruening\n  revisions: e972e07c7845\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_measure_object_intensity\n  owner: bgruening\n  revisions: 980aed9e8fd5\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_measure_object_size_shape\n  owner: bgruening\n  revisions: 79e10d12d90a\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_measure_texture\n  owner: bgruening\n  revisions: 035a58c7f54a\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_relate_objects\n  owner: bgruening\n  revisions: 8083a87d2fdf\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: cp_save_images\n  owner: bgruening\n  revisions: 4ecf93628f97\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n- name: idr_download_by_ids\n  owner: iuc\n  revisions: e08b1dc0480c\n  tool_panel_section_label: Imaging\n  tool_shed_url: https://toolshed.g2.bx.psu.edu/\n","tours":false,"video":false,"slides_recordings":false,"translations":{"tutorial":[],"slides":[],"video":false},"license":"CC-BY-4.0","type":"tutorial","logo":"GTN","redirect_from":["/short/imaging/tutorial-CP/slides","/short/S00071"]}